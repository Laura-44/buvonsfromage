<h1>Nos suggestions d'accord</h1>

<%= @category.name %>
<% @choices.each do |choice| %>

  <div class="pairing" data-controller="pairing">
    <%= simple_form_for Pairing.new do |f| %>
      <%= choice.name %>
      <div class="d-none">
        <% if @category.name == "Fromage" %>
          <%= f.input :drink_id, value: choice.id %>
          <%= f.hidden_field :food_id, value: @category.foods.sample.id %>
        <% else %>
        <% drink =  @category.drinks.sample%>
          <%= f.input :food_id, input_html: {value: choice.id} %>
          <%= f.hidden_field :drink_id, value: drink.id %>
        <% end %>
      </div>
        <%= f.hidden_field :category_id, value: @category.id %>
          <%= f.hidden_field :second_category_id, value: @second_category.id%>

        <%= f.submit "Je valide" %>
    <% end %>
    <%= link_to "X", categories_path(@categories) %>

    <%# <% if @category.name == "Fromage" %> 
      <%# <% link_to "Description", food_path %>
    <%# <% else %>
      <%# <% link_to "Description", drink_path %>
    <%# <% end %>

    <%# <%= link_to "Description", food_path %>
    <%# <%= link_to "Description", drink_path %>
  <% end %>
</div>

<%# create de pairings qui redigire vers categories  : ok%>

<%# js stimulus %>
<%# quand click sur "je valide" ou "X" (data-action) %>
<%# recharge de la page et affichage de l'id suivant (AJAX) %>


<%# data-action sur les links %>
<%# fetch sur @choice.first pour aller rechercher l'id suivante : AJAX %>




<%# <button class="btn btn-primary btn-lg" %>
        <%# data-controller="disable-button" %>
        <%# data-action="click->disable-button#disable"> %>
  <%# Je Valide! %>
<%# </button> %>

<%# crÃ©er un fichier pairing_controller.js, y mettre : %>
<%#  disable() {
    this.element.innerText = "Bingo!";
    this.element.setAttribute("disabled", "");
  } %>

  <%# <%= link_to "je valide", categories_path(@pairings) %>
